<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="shortcut icon" href="assets/imgs/Fav-Icon.png" type="image/x-icon">
    <!-- <script src="//cdn.amcharts.com/lib/5/index.js"></script>
    <script src="//cdn.amcharts.com/lib/5/percent.js"></script>
    <script src="//cdn.amcharts.com/lib/5/themes/Animated.js"></script> -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
    <div class="home-main-wrapper">
        <div class="container-fluid">
          <div class="logged-in-user">
            <p>Designer Zee</p>
          </div>
            <header class="header-wrapper">
                <div class="logo">
                    <img src="assets/imgs/Winz-Logo-2.png" alt="logo Winz">
                </div>
                <nav>
                    <div class="tutorial">
                      <ul>
                          <li><a href="home.html" class="active">Home</a></li>
                          <li class="reports-nav inner">
                         
                            <a href="chart.html">Charts</a> 
                            <ul>
                                <li><a href="scatterchart.html">Total Earnings / Org Volume– Scatter Chart </a></li>
                                <li><a href="piechart.html">Total Earnings / Org Volume– Pie Chart</a></li>
                                <li><a href="barchart.html">Total Earnings / Org Volume– Bar Chart</a></li>
                                <li><a href="linechart.html">Total Earnings / Org Volume– Line Chart</a></li>
                                <li><a href="4axischart.html">Total Earnings / Org Volume– 4Axis Chart</a></li>
                            </ul>
                            
                        </li>
                          <li class="charts-nav"><a href="reports.html" >Reports</a> 
                              <ul>
                                  <li><a href="totalearning.html">Total Earnings as a percent of Total Volume</a></li>
                                  <li><a href="totalenrolled.html">Number enrolled by Category </a></li>
                              </ul>
                           
                          </li>
                          <li><a href="prefences.html">Prefences</a></li>
                          <li><a href="help.html">Help</a></li>
                      </ul>
                      
                  </div>
                  </nav>
                <div class="admin-logged-in"> 
                  <div class="profile-wrapper">
                    <a href="#" onclick="toggleBlur()" class="display-picture"><img src="assets/imgs/Mask group (19).png" alt=""> <img src="assets/imgs/bottom-arrow.png" alt=""> </a>
                  </div>
                  <div class="card hidden">
                   <div class="profile-image">
                    <img src="assets/imgs/Mask group (19).png" alt="">
                   </div>
                    <h3>Your Name</h3>
                    <p>yourmail@mail.com</p>
                    <ul>
                      <li><a href="#">Client 1</li></a>
                      <li><a href="#">Client 2</li></a>
                      <li class="non-active"><a href="#">Client 3</li></a>
                    </ul>
                    <div class="log-out">
                        <a href="index.html">
                          <button>Log Out</button>
                        </a>
                    </div>
                  </div>
                 
                
                  
                </div>
            </header>


            <section id="mainContent">
              <div class="main-status-wrapper">
                <div class="volume-wrapper">
                  <div class="heading-wrapper">
                    <h2>Total Earnings as a percent of Total Volume</h2>
                  </div>
                  <div class="report-wrapper">
                      <table>
                        <tr>
                          <th>Volume</th>
                          <th>Earnings</th>
                          <th>Percent</th>
                        </tr>
                        <tr>
                          <td>252,945</td>
                          <td>98,150.55</td>
                          <td>38.80%</td>
                        </tr>
                      </table>
                  </div>
                </div>


                <div class="status-warpper">
                  <div class="status-heading-wrapper">
                    <h2>Dist Count by Status</h2>
                    <div class="color-wrapper">
                      <label for="">
                        <div class="legend" id="legend"></div> 
                      </label>
                    </div>
                  </div>

                  <div class="chart-wrapper">
                    <img src="assets/imgs/chart.png" alt="">
                    <!-- <svg id="pieChart" width="400" height="500"></svg> -->
                       
                    
                   
                  </div>
                </div>
              </div>
         

        



        <div class="data-report-wrapper">
          <div class="report-volume-wrapper">
            <div class="heading-wrapper">
              <h2>Number enrolled by Category</h2>
            </div>
            <div class="report-wrapper">
                <table>
                  <tr>
                    <th>Enroller Category All Enrollers</th>
                    <th>Count of Dist_ID</th>
                    <th>Percent of Enrollers</th>
                    <th>Number Enrolled</th>
                    <th>Percent Enrolled</th>
                  </tr>
                  <tr>
                    <td>1 to 2</td>
                    <td>424</td>
                    <td>26.35%</td>
                    <td>593</td>
                    <td>1.30%</td>
                  </tr>
                  <tr>
                    <td>3 to 5</td>
                    <td>303</td>
                    <td>18.89%</td>
                    <td>1,180</td>
                    <td>2.60%</td>
                  </tr>
                  <tr>
                    <td>6 to 9</td>
                    <td>221</td>
                    <td>13.74%</td>
                    <td>1,615</td>
                    <td>3.55%</td>
                  </tr>
                  <tr>
                    <td>10 to 49</td>
                    <td>476</td>
                    <td>29.58%</td>
                    <td>10,378</td>
                    <td>22.83%</td>
                  </tr>
                  <tr>
                    <td>50 to 99</td>
                    <td>93</td>
                    <td>5.78%</td>
                    <td>6,489</td>
                    <td>14.28%</td>
                  </tr>
                  <tr>
                    <td>100 and above</td>
                    <td>91</td>
                    <td>5.66%</td>
                    <td>25,197</td>
                    <td>55.44%</td>
                  </tr>
                <tfoot>
                  <tr class="total-section-wrapper">
                    <td class="total-wrapper">Total</td>
                    <td>1,609</td>
                    <td></td>
                    <td>45,452</td>
                    <td></td>
                  </tr>
                </tfoot>
                </table>
            </div>
          </div>
        </div>
      </section>

      </div>

    </div>
    <footer>
     
    </footer>


    
                    <!-- <div id="chartdiv"></div> -->
    <script src="assets/js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.1.6/zepto.min.js"></script>
    <script>
       var data = [46.7, 13.3, 26.7, 13.3, 10.7];
        var colors = ['#6ECBFF', '#2392AB', '#11888F', '#B2F1FF', '#01CEB8'];

        var pie = d3.pie();
        var arc = d3.arc().innerRadius(0).outerRadius(200);

        var svg = d3.select("#pieChart")
            .append("g")
            .attr("transform", "translate(200,200)");

        var arcs = svg.selectAll("arc")
            .data(pie(data))
            .enter()
            .append("g")
            .attr("class", "arc")
            .on("mouseover", handleMouseOver)
            .on("mouseout", handleMouseOut);

        arcs.append("path")
            .attr("fill", (d, i) => `url(#gradient${i})`)
            .attr("d", arc)
            .transition()
            .duration(1000)
            .attrTween("d", interpolate);

        arcs.append("text")
            .attr("class", "value-text")
            .attr("transform", (d) => `translate(${arc.centroid(d)})`)
            .attr("dy", "0.35em")
            .attr("text-anchor", "middle")
            .text((d) => `${d.data}%`);

        arcs.append("title")
            .text((d, i) => `Category: ${i + 1}\nValue: ${data[i]}%`);

        var gradientDefs = svg.append("defs");

        colors.forEach((color, i) => {
            var gradient = gradientDefs.append("linearGradient")
                .attr("id", `gradient${i}`)
                .attr("gradientTransform", "rotate(90)");

            gradient.append("stop")
                .attr("offset", "0%")
                .attr("stop-color", color);

            gradient.append("stop")
                .attr("offset", "100%")
                .attr("stop-color", "#FFF");
        });

        // Legend
        var legend = d3.select("#legend")
            .selectAll("div")
            .data(colors)
            .enter()
            .append("div")
            .attr("class", "legend-item")
            .on("click", toggleSlice);

        legend.append("div")
            .attr("class", "legend-color")
            .style("background-color", (d) => d);

        function interpolate(d) {
            var i = d3.interpolate({ startAngle: 0, endAngle: 0 }, d);
            return function(t) {
                return arc(i(t));
            };
        }

        function handleMouseOver(d, i) {
            d3.select(this)
                .select("path")
                .transition()
                .duration(200)
                .attr("d", d3.arc().innerRadius(0).outerRadius(220)); // Increase size

            d3.select(this)
                .select(".value-text")
                .transition()
                .duration(200)
                .style("opacity", 1);
        }

        function handleMouseOut(d, i) {
            d3.select(this)
                .select("path")
                .transition()
                .duration(200)
                .attr("d", arc);

            d3.select(this)
                .select(".value-text")
                .transition()
                .duration(200)
                .style("opacity", 0);
        }

        function toggleSlice(color, index) {
            var slice = d3.select(".arc:nth-child(" + (index + 1) + ")");
            var isVisible = slice.attr("data-visible") !== "false";

            slice.transition()
                .duration(200)
                .attr("data-visible", isVisible ? "false" : "true")
                .style("opacity", isVisible ? 0 : 1);
        }
  </script>


</body>
</html>
